import{ai as w,w as T,u as $,r as L,b as d,j as o,aj as U,T as b,B as R,ak as v,G as u,al as y,am as F,an as I,ao as k,ap as S,aq as M,ar as B,as as P}from"./index.6f94c60a.js";import{C as j,a as q,b as A,c as D}from"./CardMedia.3a442345.js";import{M as G}from"./MenuItem.15897e82.js";import"./dividerClasses.ded1b393.js";function h(t,p,l,r=!0){return`/api/reports/${t}/${p}?render=${r}${l=="unique"?"":`&scope=${l}`}`}async function W(t,p){var n;const l=await w.exports.getDocument(t).promise,r=await l.getPage(1),s=r.getViewport({scale:.5}),c=(n=window.devicePixelRatio)!=null?n:1,g=p.getContext("2d"),f=c!==1?[c,0,0,c,0,0]:void 0;await r.render({canvasContext:g,transform:f,viewport:s}).promise}function m({reportName:t,tryLoadFrom:p,flushTo:l,urlSlug:r,reportTypes:s}){const c=T(p),g=$(),f=e=>{if(!!e)if(!c)W(h(r,t,s[0]),e).then(()=>{const a=e.toDataURL("image/png");g(l(a))});else{const a=e.getContext("2d"),i=new Image;i.onload=()=>{a==null||a.drawImage(i,0,0)},i.src=c}},[n,x]=L.exports.useState({anchor:null,render:!1}),C=(e,a)=>{if(s.length==1){const i=s[0];a?window.open(h(r,`${t.toLocaleUpperCase()} (${i.toLocaleUpperCase()}).pdf`,i,a),"_blank"):window.location.href=h(r,`${t.toLocaleUpperCase()} (${i.toLocaleUpperCase()}).pdf`,i,a)}else x({anchor:e.currentTarget,render:a})};return d(j,{variant:"outlined",sx:{height:"100%",display:"grid",cursor:"pointer","&:hover":{boxShadow:"-2px 2px 20px rgba(0 0 0 / 15%), 2px -2px 20px rgba(0 0 0 / 15%), 2px 2px 20px rgba(0 0 0 /15%), -2px -2px 20px rgba(0 0 0 / 15%)"}},children:[o(U,{sx:{backgroundColor:"#e2e2e2",width:"100%!important",maxWidth:"100%!important",display:"flex"},children:o(q,{component:"canvas",ref:f,height:200,sx:{mx:"auto",width:"90%!important"}})}),d(A,{children:[o(b,{component:"p",sx:{fontWeight:600,lineHeight:1.25},variant:"subtitle1",gutterBottom:!0,children:t}),d(b,{component:"p",variant:"subtitle2",fontWeight:400,children:["TIPOS: ",s.map(e=>{switch(e){case"general":return"General";case"houses":return"Por Casas";case"unique":return"Unico"}}).join(" o ")]})]}),d(D,{sx:{mt:"auto"},children:[o(R,{onClick:e=>C(e,!1),variant:"outlined",children:"Descargar"}),o(R,{onClick:e=>C(e,!0),color:"secondary",variant:"outlined",children:"Ver"}),o(v,{anchorEl:n.anchor,open:!!n.anchor,onClose:()=>x({...n,anchor:null}),children:s.map(e=>o(G,{children:o("a",{href:h(r,`${t.toLocaleUpperCase()} (${e.toLocaleUpperCase()}).pdf`,e,n.render),onClick:()=>x({...n,anchor:null}),target:n.render?"_blank":void 0,style:{color:"black",textDecoration:"none"},children:e=="unique"?"Unico":e=="general"?"General":"Por casas"})},e))})]})]})}function O(){return d(u,{container:!0,spacing:4,children:[o(u,{item:!0,xs:2.4,children:o(m,{reportName:"Reporte de Alimentos",urlSlug:"foodInformation",reportTypes:["general","houses"],tryLoadFrom:y,flushTo:F})}),o(u,{item:!0,xs:2.4,children:o(m,{reportName:"Reporte de Vestimenta",urlSlug:"wearInformation",reportTypes:["general","houses"],tryLoadFrom:I,flushTo:k})}),o(u,{item:!0,xs:2.4,children:o(m,{reportName:"Reporte de Beneficiarios a 6 meses de perder el Beneficio",urlSlug:"childsInSixMonthsRange",reportTypes:["general","houses"],tryLoadFrom:S,flushTo:M})}),o(u,{item:!0,xs:2.4,children:o(m,{reportName:"Reporte de Beneficiarios con sus Familias",urlSlug:"childrenWithFamily",reportTypes:["unique"],tryLoadFrom:B,flushTo:P})})]})}export{O as default};
